<%#
kind: snippet
name: GG-Xsnippet_trust_certs
model: ProvisioningTemplate
snippet: true
organizations:
- GatwardIT
- MyOrg
%>
echo "+++++++++++++++++++++++++ SSL CA Installation Snippet +++++++++++++++++++++++++"

echo ">>> Adding CA Certs"
/usr/bin/update-ca-trust enable

cat << EOF > /etc/pki/ca-trust/source/anchors/GatwardIT-CA2.pem
-----BEGIN CERTIFICATE-----
MIIJ4DCCBcqgAwIBAgIJALPkn1HmNF9yMA0GCSqGSIb3DQEBCwUAMH8xCzAJBgNV
BAYTAkFVMRgwFgYDVQQIDA9OZXcgU291dGggV2FsZXMxEjAQBgNVBAoMCUdhdHdh
cmRJVDEqMCgGA1UECwwhR2F0d2FyZElUIENlcnRpZmljYXRlIEF1dGhvcml0eSAy
MRYwFAYDVQQDDA1HYXR3YXJkSVQgQ0EyMB4XDTE3MDMwNTAxMTI1OVoXDTM3MDIy
ODAxMTI1OVowfzELMAkGA1UEBhMCQVUxGDAWBgNVBAgMD05ldyBTb3V0aCBXYWxl
czESMBAGA1UECgwJR2F0d2FyZElUMSowKAYDVQQLDCFHYXR3YXJkSVQgQ2VydGlm
aWNhdGUgQXV0aG9yaXR5IDIxFjAUBgNVBAMMDUdhdHdhcmRJVCBDQTIwggQgMA0G
CSqGSIb3DQEBAQUAA4IEDQAwggQIAoID/wDl8vx+IgU05/bzUCUwSSt1e5ksNve1
tsO+L10ZVgRvBwN9vz9Ld/W+373tcpJ4WdE1lcg66f6Swinx1xxfI4LhDS/aU167
cuElSiKN2Eh9Wie69K3PLeuhKINB2Aqh1X600rI36V3dAXuNxZpeDzTdb4JmUBbH
F1F7c6y3faBaLIcw67GuL9Ku1iZp16bB5M6LsF6GW1Yh8npDSp3CA2Wx64Q4S4md
w7vmwEQ6a+4u0yNqGHZHFEk8owmk8eZ1q3dyyMDsgVbWlErGd/KCxUCQ3RGVIF2G
ZiB3TS9oOqOutkjrvCbs4TCgh9rfFBgJ/TCnMtiZGb/5DDIpjZN3JzpsQOiS1r+W
BUqvZnYbfGV1+Pt4P8Mi30vkyFMRJ9cAGOb9YG+14kIhRpUE0S3FOE25NsbAwpMH
HUUDQqTBv25VhiHnfNWjjrq8oM5Yob1UCVIJ6iqY/EGsCyykEBTpqjk1FORFlj8z
NrVN//t56qiLqocUj4r75TKEbJbyaQPuPsa+88TkHlmNGdtfL9Nc2leTBlpLMBnR
ovx5tKYKjzh9/doJc8GoBEJIdSR6JpilKMvkBew/kOMvaZpTOoZlYPzsuofRgmEf
JvlVJ6OELbbQNwHkGAK2cp8j2aX7L9ZGoH/Yb05OQBfzBlEhba6+ma0UfV1BH6rW
DM8EYOESaGpu7EpB0fGmNxwlhvJOEn+JaaPpJ4RydyR6vSoDr1w5ncgXWlOflRmt
XvB+lrrlsryFsyGZ5b5F/2pVqn2xXEwMn/DX5H6lIM93QsYzwPYCECjCpRazfFnI
YjKWix8zWJsiqFCsu/GJo7pYpeXal5FrJQMybJ2Y3QgwnfoY+gkE4af0R/HWWWvy
QSG/lo7XFJxkNdYpMQqRCj/t00O95k/9FtnZ6HsFoDD42FFz/LFm7XI+lVF1INGS
ZyWgud+H/KSvVPnZLd46gof6V2wlYEfWCP1hdKCD1fRVUcjL+P5eJy3ety3HFKy+
mDIeKsrsJeDxDdGzjjxBpcQz63J0MGgwni3LqXN8dbO22BqaDJhXSBwKupkY4h/r
BElfHaWuXpN6Rpt99Dg5Mk7XfT03uu1TFfgD8gCwerZdfMLrrO1wWgAtSKOtjJfT
jUnX5R/xRzkyp8jiVua8HkOHRDf3HcF2OerAiBfdATzaDb1oYLtF3bRJpa+nXixS
6uvMtRWjMNnel/19qBEtD/UKwCG3WL5IhFAm0mCUvLUg8lUzcSQL91sxhoo/gQsM
bEGfTlSW9qYY0cuZPASq/QEjwfzvraGaMLmegFHFUoXXHPkGVi16ErtgTZUFYEYw
hEELQZQX8MWntEvFK6aAwrCPcNHzrDy+sTxGXB2Os6X3cYzQ+xg2jwIDAQABo2Mw
YTAdBgNVHQ4EFgQUet13BcdnUHWDeyXnMsmmW88UvPQwHwYDVR0jBBgwFoAUet13
BcdnUHWDeyXnMsmmW88UvPQwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMC
AYYwDQYJKoZIhvcNAQELBQADggP/AL/l9iY8o6G4RCDLCd62K2pdfWFB7neCc6UA
uHtZPAOEOEgo2oBgpGOGTVYurGyx01mAodeRgYWhV7btv4rIvl4Iar8x4lEDACB/
6+bVVgSWPhD9uKfH+7I/9TQHFyiUO8gCFNSU8Jew8/k2wAyjJXtrgIyId9Rrx6xE
ZgBRQlqFoRM7KCieUhQSDOhAglqS6Ok7xcxVaTfmV1gbCWBSaskNlSqdLJZ4fsUA
Wf4F1G3N9HbKw/5DquIchGsBxX9lzbKbnxhENHicUtn72HdMMm617fKbVvLLuUBT
TFDLosbtw3BdDaBu6RmXfbli84wwbXNcJb8qXk0ctT8TpeRASYIRg6UyNFHXNJIK
tKaS6sUYk4zuLJJbbQH54K/LpLZQrH6UjscWBz9qTk4mAJvu6Gg+cZjt4f3w20Ab
2g99HDnA4CiPksZCKPmDcknvDEJyoy6a8muNwyJpoTuaaaiDbLpXIzYJuTc/ifMF
bmeLx+rtxpLICLVpACvHX91CAS66NWXu0nSqm0isLRHYQUAqle1t089S2ft2KIBm
Fo/dHjPkNLJoDvteQcDWdfKB90U25rTSuoW8cihsCYheTQIwI+/EW60wUpMMwco6
3zmyoivEAfmOjMFMGSPDJFzZ9LX7wFgrYiIaRA5vjn4oXb6+nBFEUFU9X0sxZRYH
GvFis9T/90NHVNdq9lvzac49tNFmH9LB9F9t1uP/abMkf0py7yoQjTfwD8qStjCc
JLq13wgMlYo0kapYxxNlXVzBCzs1GVs4JrhtTfumTktreIv/f6fpQ0SD9w3oDty1
BWp+L0pNx0hb9upGWDmRIqZJFiwe2AfnoEGxfhG4T/b6kS5bGBfJLnabF2KQSGXf
KsmOemZ1rD03f1ODZiWNbEUh05wuKqN4CXWLYrishlfMs45IzjYphgLionF+l8yz
AqnCE4Xbno5Mgi3nRP4RdNKR9a3it4hZh4YOHXP1CZHw1VvdGAcIruHdVutQMlr2
Go72OWkbrLxM59W6GQ7giRwYZRrYLGLuev3fKgGjC+8as5MyoaQ8xSkTr88E0ZXe
8WQgv8BflrpPA8qXcDlrO4h0EcMCUWvEhtcwxn4O/qPkxKn7t85IRKxzU7Z49HGl
WCZlk3/sArP5KL6USWqqE1wTuvAYxi1a3wkFli48w49PcIzA0cf35SsOsN1/cUuq
w8zCmBuYVug+qJHsF+H7Mjjj2EjujEHoozjd/3bqxIfW5hHKcBNxABzScHnmmJW1
KiO3NOCD8oj3Xlbie2YR11m+0KIFXCeujoiNM9abMfvuHiHnCPR6QykGk3hN9J8C
Cmld/HjmV5FhOCN4nZWV7bSE0kPMIVaEuiKkS2HLlDYYAUu7
-----END CERTIFICATE-----
EOF

cat << EOF > /etc/pki/ca-trust/source/anchors/GatwardIT-IPA_chain.pem
-----BEGIN CERTIFICATE-----
MIIJ4DCCBcqgAwIBAgIJALPkn1HmNF9yMA0GCSqGSIb3DQEBCwUAMH8xCzAJBgNV
BAYTAkFVMRgwFgYDVQQIDA9OZXcgU291dGggV2FsZXMxEjAQBgNVBAoMCUdhdHdh
cmRJVDEqMCgGA1UECwwhR2F0d2FyZElUIENlcnRpZmljYXRlIEF1dGhvcml0eSAy
MRYwFAYDVQQDDA1HYXR3YXJkSVQgQ0EyMB4XDTE3MDMwNTAxMTI1OVoXDTM3MDIy
ODAxMTI1OVowfzELMAkGA1UEBhMCQVUxGDAWBgNVBAgMD05ldyBTb3V0aCBXYWxl
czESMBAGA1UECgwJR2F0d2FyZElUMSowKAYDVQQLDCFHYXR3YXJkSVQgQ2VydGlm
aWNhdGUgQXV0aG9yaXR5IDIxFjAUBgNVBAMMDUdhdHdhcmRJVCBDQTIwggQgMA0G
CSqGSIb3DQEBAQUAA4IEDQAwggQIAoID/wDl8vx+IgU05/bzUCUwSSt1e5ksNve1
tsO+L10ZVgRvBwN9vz9Ld/W+373tcpJ4WdE1lcg66f6Swinx1xxfI4LhDS/aU167
cuElSiKN2Eh9Wie69K3PLeuhKINB2Aqh1X600rI36V3dAXuNxZpeDzTdb4JmUBbH
F1F7c6y3faBaLIcw67GuL9Ku1iZp16bB5M6LsF6GW1Yh8npDSp3CA2Wx64Q4S4md
w7vmwEQ6a+4u0yNqGHZHFEk8owmk8eZ1q3dyyMDsgVbWlErGd/KCxUCQ3RGVIF2G
ZiB3TS9oOqOutkjrvCbs4TCgh9rfFBgJ/TCnMtiZGb/5DDIpjZN3JzpsQOiS1r+W
BUqvZnYbfGV1+Pt4P8Mi30vkyFMRJ9cAGOb9YG+14kIhRpUE0S3FOE25NsbAwpMH
HUUDQqTBv25VhiHnfNWjjrq8oM5Yob1UCVIJ6iqY/EGsCyykEBTpqjk1FORFlj8z
NrVN//t56qiLqocUj4r75TKEbJbyaQPuPsa+88TkHlmNGdtfL9Nc2leTBlpLMBnR
ovx5tKYKjzh9/doJc8GoBEJIdSR6JpilKMvkBew/kOMvaZpTOoZlYPzsuofRgmEf
JvlVJ6OELbbQNwHkGAK2cp8j2aX7L9ZGoH/Yb05OQBfzBlEhba6+ma0UfV1BH6rW
DM8EYOESaGpu7EpB0fGmNxwlhvJOEn+JaaPpJ4RydyR6vSoDr1w5ncgXWlOflRmt
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
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIGnjCCAoigAwIBAgIBAzANBgkqhkiG9w0BAQsFADB/MQswCQYDVQQGEwJBVTEY
MBYGA1UECAwPTmV3IFNvdXRoIFdhbGVzMRIwEAYDVQQKDAlHYXR3YXJkSVQxKjAo
BgNVBAsMIUdhdHdhcmRJVCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkgMjEWMBQGA1UE
AwwNR2F0d2FyZElUIENBMjAeFw0xOTA3MDEwMTIxMzRaFw0yOTA2MjgwMTIxMzRa
MEAxHjAcBgNVBAoTFUlQQS5IT01FLkdBVFdBUkRTLk9SRzEeMBwGA1UEAxMVQ2Vy
dGlmaWNhdGUgQXV0aG9yaXR5MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC
AQEAx6jaWqLZdu4+bOEA3gkal0aUV/aJ7q3KyxOsPtg27K7ZtVuq5AIElG0aS3Ee
gWWTxjj3TScEvEyoVAB8TOUX4T5A5fTIOPIURMI+MeIq+CvoOsx9MKJfhxnSf7xn
/ECfIcp4IDePrLdTbYrptSv6BTq6YPXmfllzf+QAYB72mN6H0M+LE+Gvhs+CShQK
WFfifiU+JYgs4Pru56+PaMQk0dd/tFmkD7/cIbEsieB6LLZDF+/NQWErNIwUyecK
m5xx+206Gk5bGo5U1H4nZrto9XirKjSxnlbjJHc2C36qbqUHHGfysib6ExOTB57z
BCyK1qz6Po/aEHYMfAOHXvH8twIDAQABo2YwZDAdBgNVHQ4EFgQUkpingep9uOFF
nSmFmCZi6h9WorEwHwYDVR0jBBgwFoAUet13BcdnUHWDeyXnMsmmW88UvPQwEgYD
VR0TAQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQAD
ggP/ADld539dfbIM3y/1EsRatFxO48yJOOJUtvH6d7UiU+GAvVVDVvQki5q9g37g
qET30GqmvNAg6u3+tYcUhv4ItdZRe7PBEFxfQR3UN2Suvc8w+28AKifhiH/v4IKn
1INX06yDlDrut7vVgMOYr7rLs5Gn5nQ70xq/HI1lQGZ8VucBnQi8g1cBCCaEVL5k
HkJCBnwsdTApnwr/u5KwFgAzvntlyzCDbBNOAfTUuG5psim/f5gbXLzS9QRbGWL+
t6SvaWIRg39DyM8XawnSL62Yda/xtYc9KnfcFKJHQTUeSAdmtuPPh0mt1f5O+t4r
rnE1y+IIZGKvcQITOItyr7B99B16/vAP+Ljk3r43NoKktn3FIk+beIe2IttSjcj/
PWvdCL0iuzzPFXDG6+1hgVTp06dh1rqWpaDaok6skGPC83cK8sUNCIfLhZ6u2q2c
sZwsbHGBkyZDoj9BntlYN8ugK/KHteT8f7Iqe2h2bXAJaX9wFnsMOME6ImjI281Q
ZJqe925n8Gna7BKJp0xhlpMBz8KT2hUzCfKwCrG9vHGQxV2YYMDtn+NapezHkW6r
WeEH/qhv++162LYBEdyQKSfsgPEij7bglWG776apqRCA3tX6I7SM1gIRBpyXA9oK
gpXUPoCTpcTlfExiZJQ+oqL0wwh+P0B/VS5nAguVmPke4RnR1zDAdaLVW8ydxoeD
T+irYAtJdTejko/9JZJ2UvRd4LR4F8c/sAGCyiSVN/8pQxX5+smS3VpxYuD7Hnvp
6GO8wZcl6qM7e/jAuGNZf63GUxIqQCQ7/ayg/L4pbs3uEV08zdZMNseMHgl0tbr+
uk1skn0YExV7+7RhbOHOvKdNbY7AJT75VeVmBlXg+zjmXsZZgCMSlE9QXnr2i0Ey
/PjLHxqLTf4tOwnSYFVO6ot4/HhFdyyK7f5vEnD7taxp7OHtCCb7UfWjzhDb3h2I
8a+qa0PwbuNKjAbvzzsaHMkNbHXrL/lzpmbDzyJSwUKMWdm3fILMyUXEtyNjceNI
1AsGn6c6uVqyQEN6UmG/lDjdvOVA/K34HZQpTtJ6G2+jI42OFpC+OILJrmepJ6Ot
q+6lENAHXGd8thHQV8XQLWc80aNeihKHfiorCYDkj3zItPDdVI6eEIoz621OZO2z
xc8zryM5lyr/xz+hwbaaXV5bxfRFuFPeCRqX4aBKPhgef2FK8T4S4Cdv2EzGPm9E
EL4H+oWLPsINqUfMf9D50zu+1qjtkE0qQQt6xs6eclsA/nUNyUTcAGpN2aYOgEgc
kJu8yRXjOEXlDVn8I6PvrgzU86iFxQZ7gz1uya2sH3nyOkIOoqbE8DlOlP7BuJLX
mVJkvQvu/Y2o2VJhjQJZtMRg
-----END CERTIFICATE-----
EOF

/usr/bin/update-ca-trust
