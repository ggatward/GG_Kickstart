<%#
kind: snippet
name: GatwardIT-config_sshd_config
%>
#	$OpenBSD: sshd_config,v 1.93 2014/01/10 05:59:19 djm Exp $

# This is the sshd server system-wide configuration file.  See
# sshd_config(5) for more information.

# This sshd was compiled with PATH=/usr/local/bin:/usr/bin

# The strategy used for options in the default sshd_config shipped with
# OpenSSH is to specify options with their default value where
# possible, but leave them commented.  Uncommented options override the
# default value.

# If you want to change the port on a SELinux system, you have to tell
# SELinux about this change.
# semanage port -a -t ssh_port_t -p tcp #PORTNUMBER


HostKey /etc/ssh/ssh_host_rsa_key
HostKey /etc/ssh/ssh_host_ecdsa_key

KexAlgorithms ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1
Ciphers aes256-ctr
MACs hmac-sha2-512,hmac-sha2-256,hmac-sha1

Protocol 2
ListenAddress 0.0.0.0
Port 22
#AddressFamily any

AllowTcpForwarding no
GatewayPorts no
PermitRootLogin yes
HostbasedAuthentication no
IgnoreRhosts yes
PermitEmptyPasswords no
Banner /etc/issue
LoginGraceTime 60
X11Forwarding no


# Logging:
SyslogFacility AUTHPRIV
#LogLevel INFO


# Authentication:
#StrictModes yes
#MaxAuthTries 6
#MaxSessions 10
#RSAAuthentication yes
PubkeyAuthentication yes
AuthorizedKeysFile	.ssh/authorized_keys
AuthorizedKeysCommand none
#AuthorizedKeysCommandUser nobody
PasswordAuthentication yes
ChallengeResponseAuthentication no


# Kerberos options
#KerberosAuthentication yes
#KerberosOrLocalPasswd yes
#KerberosTicketCleanup yes
#KerberosGetAFSToken no
#KerberosUseKuserok yes

# GSSAPI options
GSSAPIAuthentication yes
GSSAPICleanupCredentials yes
#GSSAPIStrictAcceptorCheck yes
#GSSAPIKeyExchange no
#GSSAPIEnablek5users no

UsePAM yes

# Accept locale-related environment variables
AcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES
AcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT
AcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE
AcceptEnv XMODIFIERS

#AllowAgentForwarding yes
UsePrivilegeSeparation sandbox

ClientAliveInterval 172800
ClientAliveCountMax 0
PrintLastLog no

# override default of no subsystems
Subsystem	sftp	/usr/libexec/openssh/sftp-server

PermitUserEnvironment no
